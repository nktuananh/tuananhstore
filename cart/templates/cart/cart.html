{% load humanize %}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giỏ hàng</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 2em auto; padding: 1em; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding: 1em 0; }
        .cart-total { text-align: right; font-size: 1.2em; font-weight: bold; margin-top: 1em; }
        .cart-actions { display: flex; justify-content: space-between; margin-top: 2em; }
        .button { padding: 10px 15px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Giỏ hàng của bạn</h1>

    <div class="cart-items-container">
        {% for item in items %}
            <div class="cart-item">
                <span>{{ item.quantity }} x {{ item.product.name }} (Size: {{ item.size }})</span>
                <span>{{ item.get_total_price|intcomma }} VND</span>
                </div>
        {% empty %}
            <p>Giỏ hàng của bạn đang trống.</p>
        {% endfor %}
    </div>
    
    {% if items %}
    <div class="cart-total">
        Tổng tiền: {{ total|intcomma }} VND
    </div>

    <div class="cart-actions">
        <a href="{% url 'home' %}" style="text-decoration: none;">‹ Tiếp tục mua sắm</a>

        <form action="{% url 'checkout' %}" method="post">
            {% csrf_token %}
            <button type="submit" class="button">Thanh toán</button>
        </form>
    </div>
    {% else %}
        <a href="{% url 'home' %}">‹ Quay lại mua sắm</a>
    {% endif %}

</body>
</html>